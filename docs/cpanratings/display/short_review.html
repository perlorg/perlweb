<div class="review" data-review="[% review.id %]" data-user="[% review.user.id %]">
<a name="[% review.id %]"></a>
<h3 class="review_header">
[% IF review.module AND review.module != review.distribution %]
[% review.module | html %] /
[% END %]

[% IF no_more %]
<a href="https://metacpan.org/release/[% review.distribution | uri %]/">
[% ELSE %]
<a href="/dist/[% review.distribution | uri %]">
[% END %]

[% review.distribution | html %]</a>
[% IF review.version_reviewed AND !no_more%]
   (<a href="https://metacpan.org/release/[% review.distribution | uri %]/">[% review.version_reviewed | html %]</a>)
[% ELSIF review.version_reviewed %]
([% review.version_reviewed | html %])
[% END %]

[% IF review.rating_overall %]
[% star_image = "/cpanratings/images/stars-" _ review.rating_overall _ ".0.png" %]
<img src="[% combust.static_url(star_image) || '/static' _ star_image  %]" alt="[% star = '*'; star.repeat(review.rating_overall) %]">
[% END %]
</h3>

[% IF review_has_detail_ratings %]
<!-- should post the detailed ratings here... -->
[% END %]

<blockquote class="review_text">
[% review.review_html %]
</blockquote>


<div class="review_footer">
<p class="review_attribution">
<a href="/user/[% review.user.username | html %]">[% review.user_name %]</a> - [% review.updated %]
[% IF review.user.id == combust.user_info.id %]
  - <a href="/rate/?distribution=[% review.distribution | uri %][%
  module_param = review.module ? ";module=" _ review.module : "";
  module_param | uri %]">edit</a>
[% END %]
(<a href="/dist/[% review.distribution | uri %]#[% review.id %]">permalink</a>)
</p>

<div class="helpfulq">
[% IF review.helpful_total %]
[% review.helpful_yes %] out of [% review.helpful_total %] found this review helpful.
[% END %]
Was this review helpful to you?&nbsp;

<!-- we should add non-js links to rate stuff helpful/not helpful too... -->

<span class="helpful helpful_yes">Yes</span>
<span class="helpful helpful_no" >No</span>
<span class="thanks"></span>
</div><!-- helpfulq -->

</div><!-- review_footer -->

</div>
