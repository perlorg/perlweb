[%- i.develooper.weight=1;
   i.develooper.data = BLOCK %]
 <a href="http://develooper.com">
  <img class="border" border="0" src="[% combust.static_url("/images/friends/develooperlogo-160t.png") %]" height="36" width="160" alt="Develooper" />
  </a>
[%- END %]
[%- i.maxcdn.weight=4;
    i.maxcdn.data = BLOCK %]
<a href="https://www.maxcdn.com/" class="text-hide">
  <img class="border" border="0" src="[% combust.static_url("/images/friends/maxcdn.svg") %]"
       width="150" height="40" alt="MaxCDN" />The Next Generation CDN
  </a>
[%- END %]
[%- i.fastly.weight=4;
    i.fastly.data = BLOCK %]
<a href="https://www.fastly.com/" class="text-hide">
  <img class="border" border="0" src="[% combust.static_url("/images/friends/fastly.png") %]"
       width="110" height="51" alt="Fastly" />Microseconds count. Get fast. Get Fastly.
  </a>
[%- END %]
[%- i.dc.weight=1;
    i.dc.data = BLOCK %]
<a href="http://www.digitalcraftsmen.net/" class="text-hide">
  <img class="border" border="0" src="[% combust.static_url("/images/friends/digital_craftsmen.png") %]" height="56" width="142" alt="Digital Craftsmen" />bespoke hosting services
  </a>
[%- END %]
[%- i.phyber.weight=8;
    i.phyber.data = BLOCK %]
<a href="http://www.phyber.com/" class="text-hide">
  <img class="border" border="0" src="[% combust.static_url("/images/friends/phyber.png") %]" height="54" width="150" alt="Phyber Communications" />Networking and Colocation
  </a>
[%- END %]
[%- i.activestate.weight=8;
    i.activestate.data = BLOCK %]
<a href="http://www.activestate.com/perl">
  <img class="border" border="0" src="[% combust.static_url("/images/friends/activestate.png") %]" height="34" width="160" alt="ActiveState" />Perl Solutions
  </a>
[%- END %]
[%- i.advancesystems.weight=6;
    i.advancesystems.data = BLOCK %]
<a href="https://advancesystemsinc.com/">
  <img class="border" border="0" src="[% combust.static_url("/images/friends/advancesystemsinc.com.png") %]" height="64" width="157" alt="Advance Systems Inc" />Advance Systems Inc
  </a>
[%- END %]

[% TRY %]
[%- USE Rotato(i) %]
[%- Rotato.pick(h) %]
[% CATCH %]
[%
  # This does not weight the advert
  USE Shuffle;
  sponsors = i.keys;
  s = sponsors.shuffle.shift;
  i.$s.data;
%]
[% END %]
